<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Data Processing with ODMath | Travel Modelling Group Documentation </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Data Processing with ODMath | Travel Modelling Group Documentation ">
      
      <link rel="icon" href="../../../../favicon.ico">
      <link rel="stylesheet" href="../../../../public/docfx.min.css">
      <link rel="stylesheet" href="../../../../public/main.css">
      <meta name="docfx:navrel" content="../../../../toc.html">
      <meta name="docfx:tocrel" content="../../../../toc.html">
      
      <meta name="docfx:rel" content="../../../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/TravelModellingGroup/Documentation/blob/master/tmg-documentation/1.6/xtmf/frameworks/od_math/od_math.md/#L1">
  </head>

  <script type="module">
    import options from './../../../../public/main.js'
    import { init } from './../../../../public/docfx.min.js'
    init(options)
  </script>

  <script>
    const theme = localStorage.getItem('theme') || 'auto'
    document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
  </script>


  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../../../index.html">
            <img id="logo" class="svg" src="../../../../images/tmg.png" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="data-processing-with-odmath">Data Processing with ODMath</h1>

<p>ODMath is a special calculus designed for travel demand modelling. Unlike algebraic matrices when multiplying or dividing the operation is done to each respective cell. This is helpful for expressing utility calculations or performing similar calculations for each OD pair. Some basic examples of the calculus are shown below. In addition to basic arithmetic operations there are numerous functions that also work on a similar principle.</p>
<p>There are three TMG modules that allow access to this processing utility working with the three data types.</p>
<ul>
<li>TMG.Frameworks.Data.Processing.ODMath (Matrix)</li>
<li>TMG.Frameworks.Data.Processing.VectorMath (Vector)</li>
<li>TMG.Frameworks.Data.Processing.ScalarMath (Scalar)</li>
</ul>
<h2 id="basic-arithmetic">Basic Arithmetic</h2>
<p>For example, define two matrices A and B.</p>
<div class="math">
\[
A = \begin{bmatrix}
      1 &amp; 2          \\\\
      3 &amp; 4
\end{bmatrix},
B = \begin{bmatrix}
    2 &amp; 4          \\\\
    6 &amp; 8
\end{bmatrix} 
\]</div>
<p>If we used the expression string <code>2 * A + B</code> we would get the following.</p>
<div class="math">
\[
2 \times A + B = \begin{bmatrix}
    4 &amp; 8          \\\\
    12 &amp; 16
\end{bmatrix} 
\]</div>
<p>You can also use brackets to change the order of operations.</p>
<div class="math">
\[
2 \times (A + B) = \begin{bmatrix}
   6 &amp; 12          \\\\
   18 &amp; 24
\end{bmatrix} 
\]</div>
<p>Division can also be performed using <code>B / A</code>.</p>
<div class="math">
\[
B / A = \begin{bmatrix}
    2 &amp; 2          \\\\
    2 &amp; 2
\end{bmatrix} 
\]</div>
<p>Multiplication <code>A * B</code> would result in:</p>
<div class="math">
\[
A \times B = \begin{bmatrix}
    2 &amp; 8          \\\\
    18 &amp; 32
\end{bmatrix} 
\]</div>
<p>Powers <code>A ^ B</code> would result in:</p>
<div class="math">
\[
A^B = \begin{bmatrix}
    1 &amp; 16          \\\\
   729 &amp; 65536
\end{bmatrix} 
\]</div>
<h2 id="vectors">Vectors</h2>
<p>Vectors can also be used in arithmetic.  In the following we define C as a Vertical matrix, and D is a Horizontal matrix.  If a matrix is loaded from a data source it will not have a directionality and must be given one before being used with matrices.</p>
<div class="math">
\[
C =
\begin{bmatrix}
    1 \\\\
   3
 \end{bmatrix} 
\]</div>
<div class="math">
\[
D =
 \begin{bmatrix}
   1 &amp; 3
\end{bmatrix} 
\]</div>
<p>The following is the difference between the basic arithmetic with vertical and horizontal vectors applied to A:</p>
<div class="math">
\[
A + C =
\begin{bmatrix}
  2 &amp; 3 \\\\
  6 &amp; 7
\end{bmatrix} 
\]</div>
<div class="math">
\[
A + D =
\begin{bmatrix}
  2 &amp; 5 \\\\
  4 &amp; 7
\end{bmatrix} 
\]</div>
<h2 id="comparisons">Comparisons</h2>
<p>For certain functions comparisons are required.  If a comparison is true, a 1 is the result otherwise 0.
The comparison operators are &lt;, &gt;, &lt;=, &gt;=, == (equal), != (not equal), | (or), and &amp; (and).</p>
<div class="math">
\[
A = \begin{bmatrix}
       1 &amp; 2          \\\\
       3 &amp; 4
\end{bmatrix} 
\]</div>
<div class="math">
\[
 F = 
\begin{bmatrix}
  4 &amp; 3 \\\\
  2 &amp; 1
\end{bmatrix} 
\]</div>
<div class="math">
\[
A &lt; F =
  \begin{bmatrix}
    1 &amp; 1 \\\\
    0 &amp; 0
  \end{bmatrix} 
\]</div>
</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/TravelModellingGroup/Documentation/blob/master/tmg-documentation/1.6/xtmf/frameworks/od_math/od_math.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>
        
      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top">
      <div class="container-xxl">
        <div class="flex-fill">
          ©2017-2023, Travel Modelling Group, University of Toronto
        </div>
      </div>
    </footer>
  </body>
</html>