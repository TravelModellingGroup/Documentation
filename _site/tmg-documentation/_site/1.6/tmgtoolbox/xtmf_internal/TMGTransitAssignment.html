<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>TMG Transit Assignment Tool | Travel Modelling Group Documentation </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="TMG Transit Assignment Tool | Travel Modelling Group Documentation ">
      
      <link rel="icon" href="../../../favicon.ico">
      <link rel="stylesheet" href="../../../public/docfx.min.css">
      <link rel="stylesheet" href="../../../public/main.css">
      <meta name="docfx:navrel" content="../../../toc.html">
      <meta name="docfx:tocrel" content="../../../toc.html">
      
      <meta name="docfx:rel" content="../../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/TravelModellingGroup/Documentation/blob/master/tmg-documentation/1.6/tmgtoolbox/xtmf_internal/TMGTransitAssignment.md/#L1">
  </head>

  <script type="module">
    import options from './../../../public/main.js'
    import { init } from './../../../public/docfx.min.js'
    init(options)
  </script>

  <script>
    const theme = localStorage.getItem('theme') || 'auto'
    document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
  </script>


  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../../index.html">
            <img id="logo" class="svg" src="../../../images/tmg.png" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="tmg-transit-assignment-tool"><strong>TMG Transit Assignment Tool</strong></h1>

<p>This tool executes a multi-class transit assignment</p>
<h2 id="using-the-tool-with-modeller"><strong>Using the Tool with Modeller</strong></h2>
<p><code>TMGTransitAssignmentTool</code> tool is not callable from Modeller. It is intended only to be called from XTMF.</p>
<p>The tool can be found in &quot;TMG Toolbox&quot; -&gt; &quot;XTMF Internal&quot; -&gt; &quot;TMG Transit Assignment Tool&quot;.</p>
<h2 id="using-the-tool-with-xtmf"><strong>Using the Tool with XTMF</strong></h2>
<p>The tool is called &quot;TransitAssignmentTool&quot;. In XTMF, it is available to add under <em><strong>ExecuteToolsFromModellerResource</strong></em> or <em><strong>EmmeToolsToRun</strong></em>.</p>
<h2 id="module-parameters---transitassignmenttool">Module Parameters - &quot;TransitAssignmentTool&quot;</h2>
<h3 id="connector-logit-scale">Connector Logit Scale</h3>
<p>Scale parameter for logit model at origin connectors.</p>
<h3 id="effective-headway-attribute">Effective Headway Attribute</h3>
<p>The name of the attribute to use for the effective headway.</p>
<h3 id="effective-headway-slope">Effective Headway Slope</h3>
<h3 id="exclusive-row-ttf-range">Exclusive ROW TTF Range</h3>
<p>Set this to the TTF, TTFs or range of TTFs (seperated by commas) that represent going in an exclusive right of way. This is the use in STSU.</p>
<h3 id="headway-fraction-attribute">Headway Fraction Attribute</h3>
<p>The ID of the NODE extra attribute in which to store headway fraction. Should have a default value of 0.5.</p>
<h3 id="iterations">Iterations</h3>
<p>Convergence criterion: The maximum number of iterations performed by the transit assignment.</p>
<h3 id="logit-scale-at-critical-nodes">Logit Scale at Critical Nodes</h3>
<p>This is the scalre parameter for the logit model at critical nodes. Set it to 1 to turn it off logit. Set it to 0 to ensure equal proportion on all connected auxiliary transfer links. Critical nodes are defined as the non centroid end of centroid connectors and nodes that have transit lines from more than one agency.</p>
<h3 id="normalized-gap">Normalized Gap</h3>
<p>Convergence criterion.</p>
<h3 id="relative-gap">Relative Gap</h3>
<p>Convergence criterion.</p>
<h3 id="representative-hour-factor">Representative Hour Factor</h3>
<p>A multiplier applied to the demand matrix to scale it to match the transit line capacity period. This is similar to the peak hour factor used in auto assignment.</p>
<h3 id="scenario-number">Scenario Number</h3>
<p>Emme Scenario Number.</p>
<h3 id="walk-speed">Walk Speed</h3>
<p>Walking speed in km/hr. Applied to all walk (aux. transit) modes in the Emme scenario</p>
<h2 id="sub-module-parameters---transitassignmenttool---class">Sub-Module Parameters - TransitAssignmentTool -&gt; Class</h2>
<h3 id="boarding-penalty-matrix">Boarding Penalty Matrix</h3>
<p>The number of the FULL matrix which to save the applied boarding penalties. Enter 0 to skip this matrix.</p>
<h3 id="boarding-penalty-perception">Boarding Penalty Perception</h3>
<p>Perception factor applied to boarding penalty component.</p>
<h3 id="congestion-matrix">Congestion Matrix</h3>
<p>The number of the FULL matrix which to save transit congestion. Enter 0 to skip saving this matrix.</p>
<h3 id="demand-matrix-number">Demand Matrix Number</h3>
<p>The number of full matrix containing transit demand ODs.</p>
<h3 id="fare-matrix">Fare Matrix</h3>
<p>The number of the FULL matrix which to save transit fares. Enter 0 to skip saving this matrix.</p>
<h3 id="fare-perception">Fare Perception</h3>
<p>Perception factor applied to boarding penalty component.</p>
<h3 id="in-vehicle-times-matrix">In-vehicle Times Matrix</h3>
<p>The number of the FULL matrix which to save in-vehicle travel time. Enter 0 to skip saving this matrix</p>
<h3 id="link-fare-attribute">Link Fare Attribute</h3>
<p>The ID of the LINK extra attribute containing actual fare costs.</p>
<h3 id="modes">Modes</h3>
<p>A character array of all the modes applied to this class '*' selects all.</p>
<h3 id="perceived-travel-time-matrix">Perceived Travel Time Matrix</h3>
<p>The number of the FULL matrix which to save the incurred penalties. Enter 0 to skip saving this matrix.</p>
<h3 id="segment-fare-attribute">Segment Fare Attribute</h3>
<p>The ID of the SEGMENT extra attribute containing actual fare costs.</p>
<h3 id="wait-time-perception">Wait Time Perception</h3>
<p>Perception factor applied to wait time component.</p>
<h3 id="wait-times-matrix">Wait Times Matrix</h3>
<p>The number of the FULL matrix which to save total waiting time. Enter 0 to skip saving this matrix.</p>
<h3 id="walk-perceptin-attribute">Walk Perceptin Attribute</h3>
<p>The ID of the LINK extra attribute in which to store walk time perception. Should have a default value of 1.0.</p>
<h3 id="walk-times-matrix">Walk Times Matrix</h3>
<p>The number of the FULL matrix which to save total walk time. Enter 0 to skip saving this matrix.</p>
<h2 id="sub-module-parameters---transitassignmenttool---class---walkperceptionsegment">Sub-Module Parameters - TransitAssignmentTool -&gt; Class -&gt; WalkPerceptionSegment</h2>
<h3 id="filter">Filter</h3>
<p>The filter expression for links that the perception applies to. The <code>Filter</code> expects a String parameter type.</p>
<h3 id="walk-perception-value">Walk Perception Value</h3>
<p>The work perception links. The <code>WalkPerceptionValue</code> parameter type is a String.</p>
</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/TravelModellingGroup/Documentation/blob/master/tmg-documentation/1.6/tmgtoolbox/xtmf_internal/TMGTransitAssignment.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>
        
      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top">
      <div class="container-xxl">
        <div class="flex-fill">
          ©2017-2023, Travel Modelling Group, University of Toronto
        </div>
      </div>
    </footer>
  </body>
</html>