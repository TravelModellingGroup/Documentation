<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Import Binary Matrix | Travel Modelling Group Documentation </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Import Binary Matrix | Travel Modelling Group Documentation ">
      
      <link rel="icon" href="../../../../favicon.ico">
      <link rel="stylesheet" href="../../../../public/docfx.min.css">
      <link rel="stylesheet" href="../../../../public/main.css">
      <meta name="docfx:navrel" content="../../../../toc.html">
      <meta name="docfx:tocrel" content="../../../../toc.html">
      
      <meta name="docfx:rel" content="../../../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/TravelModellingGroup/Documentation/blob/master/tmg-documentation/2.0/tmgtoolbox2_emme/tools/Import/ImportBinaryMatrix.md/#L1">
  </head>

  <script type="module">
    import options from './../../../../public/main.js'
    import { init } from './../../../../public/docfx.min.js'
    init(options)
  </script>

  <script>
    const theme = localStorage.getItem('theme') || 'auto'
    document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
  </script>


  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../../../index.html">
            <img id="logo" class="svg" src="../../../../images/tmg.png" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="import-binary-matrix"><strong>Import Binary Matrix</strong></h1>

<div class="NOTE">
<h5>Note</h5>
<p>This tool works with Emme version 4.6.0+, XTMF2, and produces results similar to the TMG Import Binary Matrix in XTMF1/TMGToolbox1.</p>
</div>
<p>The Import Binary Matrix tool allows XTMF to be able to Import Binary Matrix into an EMME Databank in the new binary format. To use this tool requires specifying the file location, type of matrix and matrix number to be imported (see parameter explanation below)</p>
<h2 id="using-the-tool-with-modeller"><strong>Using the Tool with Modeller</strong></h2>
<p><code>ImportBinaryMatrix</code> tool is not callable from Emme Modeller. It is intended and only to be called from XTMF2 or via a python API call.</p>
<p>The tool can be found in &quot;TMG Toolbox 2&quot; -&gt; &quot;Import&quot; -&gt; &quot;Import Binary Matrix&quot;. You can
find the code for this tool <a href="https://github.com/TravelModellingGroup/TMG.EMME/blob/master/TMG.EMME/TMGToolbox2/src/Import/import_binary_matrix.py">here</a>.</p>
<h2 id="using-the-tool-with-xtmf2"><strong>Using the Tool with XTMF2</strong></h2>
<div class="CAUTION">
<h5>Caution</h5>
<p><strong>NOTE TMG Modeller</strong>: Update (and delete this warning) the location where Import Binary Matrix tool could be found when within the model system in XTMF2.</p>
</div>
<p>Using XTMF2 graphical user interface, parameters (defined below) needed to run the <code>ImportBinaryMatrix</code> tool can be set by the users. This tool is called <code>ImportBinaryMatrix</code>. In <strong>XTMF2</strong>, it is available to add within a model system under <em><strong>ExecuteToolsFromModellerResource</strong></em> or <em><strong>EmmeToolsToRun</strong></em>.</p>
<h2 id="using-the-tool-from-an-external-python-api-call"><strong>Using the Tool from an External Python API Call</strong></h2>
<p>You can call the <code>ImportBinaryMatrix</code> by calling the python API. Below is a script sample.</p>
<p><strong>Script Example</strong></p>
<pre><code class="lang-python">import inro.modeller as _m
_MODELLER = _m.Modeller()
parameters = {
    &quot;matrix_type&quot;: 4,
    &quot;matrix_number&quot;: 1,
    &quot;file_location&quot;: &quot;test_matrix.mtx&quot;,
    &quot;scenario_number&quot;: 1,
    &quot;matrix_description&quot;: &quot;test description&quot;,
}
import_matrix = _MODELLER.tool(&quot;tmg2.Import.import_binary_matrix&quot;)
import_matrix(parameters)
</code></pre>
<h3 id="module-parameter-explanation-import-binary-matrix">Module Parameter Explanation: &quot;Import Binary Matrix&quot;</h3>
<table>
<thead>
<tr>
<th style="text-align: left;">Parameter <code>type</code></th>
<th style="text-align: left;">Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Scenario Number <code>integer</code></td>
<td style="text-align: left;">The number of the scenario that this matrix is for.</td>
</tr>
<tr>
<td style="text-align: left;">Matrix Number <code>integer</code></td>
<td style="text-align: left;">The matrix number to import this matrix to.t. e.g. 10</td>
</tr>
<tr>
<td style="text-align: left;">Matrix Type <code>integer</code></td>
<td style="text-align: left;">The matrix type to import. [1=ms, 2=mo, 3=md, 4=mf] For instance, setting matrix type to 4 imports &quot;mf&quot;</td>
</tr>
<tr>
<td style="text-align: left;">File Location <code>string</code></td>
<td style="text-align: left;">The location of the matrix file to import.</td>
</tr>
<tr>
<td style="text-align: left;">Description <code>string</code></td>
<td style="text-align: left;">The description to apply to the matrix.</td>
</tr>
</tbody>
</table>
</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/TravelModellingGroup/Documentation/blob/master/tmg-documentation/2.0/tmgtoolbox2_emme/tools/Import/ImportBinaryMatrix.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>
        
      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top">
      <div class="container-xxl">
        <div class="flex-fill">
          ©2017-2023, Travel Modelling Group, University of Toronto
        </div>
      </div>
    </footer>
  </body>
</html>